<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.inno.backoffice.auth.repository.AuthMapper">

    <update id="updateAuth" parameterType="AuthVO">
        UPDATE TC_AUTH_MS
           SET AUTH_NM = #{authNm}
             , USE_YN = #{useYn}
             , MOD_DATE = #{modDate}
             , MOD_SN = #{modSn}
         WHERE 1=1
           AND AUTH_SN = #{authSn}
    </update>

    <select id="selectAuthByAuthSn" parameterType="AuthVO" resultType="AuthVO">
        SELECT
            *
          FROM TC_AUTH_MS
         WHERE AUTH_SN = #{authSn}
    </select>

    <select id="selectAuthListPaging" parameterType="AuthVO" resultType="AuthVO">
        SELECT AUTH_SN
             , AUTH_NM
             , USE_YN
             , REG_SN
             , MOD_SN
             , DATE_FORMAT(REG_DATE, '%Y-%m-%d %H:%i:%S') AS REG_DATE_STR
             , DATE_FORMAT(MOD_DATE, '%Y-%m-%d %H:%i:%S') AS MOD_DATE_STR
          FROM TC_AUTH_MS
         WHERE 1=1
        <if test="authSn != null and authSn != ''">
            AND AUTH_SN = #{authSn}
        </if>
        <if test="authNm != null and authNm != ''">
            AND AUTH_NM LIKE CONCAT('%',#{authNm},'%')
        </if>
        <if test="useYn != null and useYn != ''">
            AND USE_YN = #{useYn}
        </if>
         ORDER BY AUTH_SN DESC
         LIMIT #{skip} , #{pageSize}
    </select>

</mapper>